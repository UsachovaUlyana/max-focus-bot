# MAX Focus Pods

–ß–∞—Ç-–±–æ—Ç –¥–ª—è –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞ MAX, –ø–æ–≤—ã—à–∞—é—â–∏–π –ª–∏—á–Ω—É—é –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ Pomodoro-—Ç–∞–π–º–µ—Ä, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–µ —Ñ–æ–∫—É—Å-—Å–µ—Å—Å–∏–∏.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

**–ó–∞–¥–∞—á–∏**
- –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á —Ç–µ–∫—Å—Ç–æ–º —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º –¥–µ–¥–ª–∞–π–Ω–æ–≤ (¬´–∑–∞–≤—Ç—Ä–∞ 15:00¬ª, ¬´—á–µ—Ä–µ–∑ 2 —á–∞—Å–∞¬ª);
- —Ä–∞–∑–±–∏–µ–Ω–∏–µ –∑–∞–¥–∞—á –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏;
- –ø—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á.

**Pomodoro**
- —Ñ–æ–∫—É—Å-—Å–µ—Å—Å–∏–∏ 15/25/50/90 –º–∏–Ω—É—Ç;
- –∑–∞—â–∏—Ç–∞ –æ—Ç –¥–æ—Å—Ä–æ—á–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ‚Äî –Ω–∞–≥—Ä–∞–¥—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ >= 90% –≤—Ä–µ–º–µ–Ω–∏;
- –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.

**Focus Pods**
- —Å–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —Ñ–æ–∫—É—Å-—Å–µ—Å—Å–∏–π;
- –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø–æ –∫–æ–¥—É –∏–ª–∏ —Å—Å—ã–ª–∫–µ (`https://max.ru/t257_hakaton_bot?start=pod_<–∫–æ–¥>`);
- —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ç–∞–π–º–µ—Ä –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤;
- –±–æ–Ω—É—Å–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã –∑–∞ –≥—Ä—É–ø–ø–æ–≤—É—é —Ä–∞–±–æ—Ç—É.

**–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è**
- –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –≤–∞–ª—é—Ç–∞ FocusCoins;
- —Å–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π;
- —Å–µ—Ä–∏–∏ –¥–Ω–µ–π (streak) —Å –±–æ–Ω—É—Å–∞–º–∏.

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker
- Docker Compose
- –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç `@MasterBot` –≤ MAX

---

## –ó–∞–ø—É—Å–∫

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
git clone https://github.com/UsachovaUlyana/max-focus-bot.git
cd max-focus-bot
cp env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `.env`:

```env
BOT_TOKEN=<—Ç–æ–∫–µ–Ω_–æ—Ç_MasterBot>
BOT_USERNAME=t257_hakaton_bot
PORT=3000
DB_PASSWORD=postgres
```

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

```bash
docker-compose up -d --build
```

–ü–æ–¥–Ω–∏–º—É—Ç—Å—è –¥–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
- `postgres` ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Ä—Ç 5432);
- `max-focus-pods` ‚Äî –±–æ—Ç –∏ HTTP API (–ø–æ—Ä—Ç 3000).

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –õ–æ–≥–∏
docker-compose logs -f bot

# Health check
curl http://localhost:3000/health
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: `{"status":"ok","timestamp":"..."}`

### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–û—Ç–∫—Ä–æ–π –±–æ—Ç–∞ –≤ MAX –ø–æ –Ω–∏–∫—É `@t257_hakaton_bot` –∏ –æ—Ç–ø—Ä–∞–≤—å `/start`.

---

## –ö–æ–º–∞–Ω–¥—ã

- `/start` ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é;
- `/help` ‚Äî —Å–ø—Ä–∞–≤–∫–∞;
- `/task` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É;
- `/tasks` ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á;
- `/focus` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å Pomodoro;
- `/pod` ‚Äî —Å–æ–∑–¥–∞—Ç—å Focus Pod;
- `/join <–∫–æ–¥>` ‚Äî –≤–æ–π—Ç–∏ –≤ Pod;
- `/profile` ‚Äî —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.

---

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏**

```
/task –ù–∞–ø–∏—Å–∞—Ç—å –æ—Ç—á–µ—Ç –¥–æ –∑–∞–≤—Ç—Ä–∞ 15:00
‚Üí ‚úÖ –ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞! –î–µ–¥–ª–∞–π–Ω: 16.11 15:00
```

**Pomodoro**

```
/focus ‚Üí –≤—ã–±–æ—Ä –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ ‚Üí 25 –º–∏–Ω
‚Üí üéØ –§–æ–∫—É—Å –Ω–∞—á–∞–ª—Å—è! –û—Å—Ç–∞–ª–æ—Å—å: 25:00
```

**Focus Pod**

```
/pod ‚Üí 45 –º–∏–Ω
‚Üí üéØ Pod —Å–æ–∑–¥–∞–Ω! –ö–æ–¥: A7K92F
  –°—Å—ã–ª–∫–∞: https://max.ru/t257_hakaton_bot?start=pod_A7K92F

–î—Ä—É–≥: /join A7K92F
‚Üí ‚úÖ –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è!

–°–æ–∑–¥–∞—Ç–µ–ª—å: [‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å]
‚Üí üöÄ Pod –∑–∞–ø—É—â–µ–Ω! 45 –º–∏–Ω—É—Ç –æ–±—â–µ–≥–æ —Ñ–æ–∫—É—Å–∞
```

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
src/
  bot/
    handlers/      # –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ callback-–æ–≤
    keyboards.ts   # inline-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
    messages.ts    # —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã
    index.ts       # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
  services/
    tasks.ts       # —Ä–∞–±–æ—Ç–∞ —Å –∑–∞–¥–∞—á–∞–º–∏
    pomodoro.ts    # Pomodoro-—Å–µ—Å—Å–∏–∏
    pods.ts        # Focus Pods
    gamification.ts # –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –≤–∞–ª—é—Ç–∞
    notifications.ts # —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  storage/
    postgres.ts    # PostgreSQL
    index.ts       # –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
  api/
    server.ts      # Express HTTP API
  types/
    index.ts       # TypeScript —Ç–∏–ø—ã

dist/              # —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JS (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ npm run build)
```

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- TypeScript
- `@maxhub/max-bot-api` ‚Äî MAX Bot API Client
- Express.js ‚Äî REST API
- PostgreSQL ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- Docker ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- Node.js 20+

---

## –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–±–µ–∑ Docker)

–ï—Å–ª–∏ PostgreSQL —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

```bash
npm install
npm run build
npm start
```

–£–±–µ–¥–∏—Å—å, —á—Ç–æ –≤ `.env` —É–∫–∞–∑–∞–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π PostgreSQL.

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

```bash
# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose up -d --build

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –ë–î
docker-compose down -v

# –õ–æ–≥–∏
docker-compose logs -f bot
docker-compose logs -f postgres
```

---

## REST API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- `GET /health` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è;
- `GET /api/user/:userId` ‚Äî –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
- `GET /api/tasks/:userId` ‚Äî –∑–∞–¥–∞—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
- `POST /api/tasks` ‚Äî —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É;
- `POST /api/pomodoro/start` ‚Äî –∑–∞–ø—É—Å—Ç–∏—Ç—å Pomodoro;
- `GET /api/pods/:podId` ‚Äî –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Pod;
- `POST /api/pods` ‚Äî —Å–æ–∑–¥–∞—Ç—å Pod.

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å–º. –≤ `src/api/server.ts`.

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

---

**–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è MAX Hackathon 2025**
